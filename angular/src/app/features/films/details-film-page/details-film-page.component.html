<div class="details-film-page">
  <button
    type="button"
    class="details-film-page__add-button"
    mat-fab
    color="primary"
    aria-label="Example icon button with a delete icon"
    (click)="openDialogForAddFilm()"
  >
    <mat-icon aria-hidden="true" aria-label="Add New Film">add</mat-icon>
  </button>

  <mat-card
    *ngIf="selectedFilm$ | async as film"
    class="details-film-page__film-details-card"
  >
    <div>
      <h1><strong>Title:</strong> {{ film.title }}</h1>
      <p>
        <strong>Release date:</strong>
        {{ film.releaseDate.toLocaleDateString() }}
      </p>
      <p><strong>Description:</strong> {{ film.openingCrawl }}</p>
      <p><strong>Producer:</strong> {{ film.producer }}</p>
      <p><strong>Director:</strong> {{ film.director }}</p>
      <p><strong>Episode â„–:</strong> {{ film.episodeId }}</p>
      <p *ngIf="relatedPlanetsList$ | async as planets">
        <strong>The planets on which the action took place:</strong>
        <span *ngFor="let planet of planets; let isLast = last">
          {{ planet.name }}{{ isLast ? "" : "," }}
        </span>
      </p>
      <p *ngIf="relatedCharactersList$ | async as characters">
        <strong>Characters featured in the film:</strong>
        <span *ngFor="let character of characters; let isLast = last">
          {{ character.name }}{{ isLast ? "" : "," }}
        </span>
      </p>
    </div>
    <div class="film-details-card__controls">
      <button
        type="button"
        class="card__controls__edit-button"
        mat-flat-button
        color="accent"
        (click)="openDialogForEditFilm(film)"
      >
        Edit Card
      </button>
      <button
        type="button"
        class="card__controls__delete-button"
        mat-flat-button
        color="warn"
        (click)="deleteFilm(film.id)"
      >
        Delete Card
      </button>
    </div>
  </mat-card>
</div>
